<div class="b-pix"> <div class="b-pix__page" ng-repeat="page in data.pictures"> <div class="b-pix__pic" ng-repeat="pic in page.photos"> <div class="b-pix__pic-wrap" ng-class="{'rated': data.ratings[pic.id]}"> <img img-preload alt="{{ pic.name }}" in-viewport="{{ pic.id }}" ng-src="{{ pic.image_url }}"> <div class="b-pix__rate"> <div class="b-pix__btn" ng-click="methods.rate(pic.id, '+')" ng-class="{'disabled': data.ratings[pic.id] === '+'}"> + </div> <div class="b-pix__btn" ng-click="methods.rate(pic.id, '-')" ng-class="{'disabled': data.ratings[pic.id] === '-'}"> - </div> </div> </div> </div> </div> <div class="b-load-more loading" in-viewport="loadMore" ng-class="{'all-loaded': data.nomore}"> </div> </div>